<?xml version="1.0" encoding="utf-8"?>
<Report xmlns="http://schemas.microsoft.com/sqlserver/reporting/2005/01/reportdefinition" xmlns:rd="http://schemas.microsoft.com/SQLServer/reporting/reportdesigner">
  <DataSources>
    <DataSource Name="Nomina">
      <rd:DataSourceID>e1ba71b5-23c4-4883-9667-3cf496150b10</rd:DataSourceID>
      <DataSourceReference>Nomina</DataSourceReference>
    </DataSource>
  </DataSources>
  <InteractiveHeight>27.9cm</InteractiveHeight>
  <ReportParameters>
    <ReportParameter Name="pIdPlantel">
      <DataType>String</DataType>
      <Prompt>IdPlantel</Prompt>
    </ReportParameter>
    <ReportParameter Name="pIdQuincena">
      <DataType>String</DataType>
      <DefaultValue>
        <Values>
          <Value>1557</Value>
        </Values>
      </DefaultValue>
      <Prompt>IdQuincena</Prompt>
    </ReportParameter>
    <ReportParameter Name="pIdEmpFuncion">
      <DataType>Integer</DataType>
      <Nullable>true</Nullable>
      <Prompt>IdEmpFuncion</Prompt>
    </ReportParameter>
    <ReportParameter Name="pIdEmp">
      <DataType>Integer</DataType>
      <DefaultValue>
        <Values>
          <Value>0</Value>
        </Values>
      </DefaultValue>
      <Prompt>IdEmp</Prompt>
    </ReportParameter>
    <ReportParameter Name="pIdFondoPresup">
      <DataType>String</DataType>
      <Prompt>TipoDeNomina</Prompt>
    </ReportParameter>
  </ReportParameters>
  <rd:DrawGrid>true</rd:DrawGrid>
  <InteractiveWidth>21cm</InteractiveWidth>
  <rd:GridSpacing>0.15cm</rd:GridSpacing>
  <rd:SnapToGrid>true</rd:SnapToGrid>
  <RightMargin>1cm</RightMargin>
  <LeftMargin>1cm</LeftMargin>
  <PageHeader>
    <PrintOnFirstPage>true</PrintOnFirstPage>
    <ReportItems>
      <Textbox Name="textbox13">
        <Top>0.9cm</Top>
        <Width>10.25cm</Width>
        <Style>
          <FontFamily>Verdana</FontFamily>
          <FontSize>8pt</FontSize>
          <TextAlign>Center</TextAlign>
          <PaddingLeft>2pt</PaddingLeft>
          <PaddingRight>2pt</PaddingRight>
          <PaddingTop>2pt</PaddingTop>
          <PaddingBottom>2pt</PaddingBottom>
        </Style>
        <ZIndex>2</ZIndex>
        <CanGrow>true</CanGrow>
        <Left>4.375cm</Left>
        <Value>=IIF(Parameters!pIdFondoPresup.Value=1, "NÓMINA DE PRESUPUESTO REGULAR", "NÓMINA DE RECURSOS PROPIOS")</Value>
      </Textbox>
      <Textbox Name="textbox12">
        <Top>0.45cm</Top>
        <Width>10.25cm</Width>
        <Style>
          <FontFamily>Algerian</FontFamily>
          <FontWeight>700</FontWeight>
          <TextAlign>Center</TextAlign>
          <PaddingLeft>2pt</PaddingLeft>
          <PaddingRight>2pt</PaddingRight>
          <PaddingTop>2pt</PaddingTop>
          <PaddingBottom>2pt</PaddingBottom>
        </Style>
        <ZIndex>1</ZIndex>
        <CanGrow>true</CanGrow>
        <Left>4.375cm</Left>
        <Height>0.525cm</Height>
        <Value>ORGANISMO PÚBLICO DESCENTRALIZADO</Value>
      </Textbox>
      <Textbox Name="textbox2">
        <rd:DefaultName>textbox2</rd:DefaultName>
        <Width>12.725cm</Width>
        <Style>
          <FontFamily>Algerian</FontFamily>
          <FontSize>11pt</FontSize>
          <FontWeight>700</FontWeight>
          <TextAlign>Center</TextAlign>
          <PaddingLeft>2pt</PaddingLeft>
          <PaddingRight>2pt</PaddingRight>
          <PaddingTop>2pt</PaddingTop>
          <PaddingBottom>2pt</PaddingBottom>
        </Style>
        <CanGrow>true</CanGrow>
        <Left>3.1375cm</Left>
        <Height>0.6cm</Height>
        <Value>COLEGIO DE BACHILLERES DEL ESTADO DE VERACRUZ</Value>
      </Textbox>
    </ReportItems>
    <Height>1.425cm</Height>
    <PrintOnLastPage>true</PrintOnLastPage>
  </PageHeader>
  <BottomMargin>0.5cm</BottomMargin>
  <rd:ReportID>e6fc191f-b535-49e3-9ce0-5059c5831c55</rd:ReportID>
  <PageWidth>21cm</PageWidth>
  <DataSets>
    <DataSet Name="dsQuincena">
      <Fields>
        <Field Name="Quincena">
          <DataField>Quincena</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Anio">
          <DataField>Anio</DataField>
          <rd:TypeName>System.Int16</rd:TypeName>
        </Field>
        <Field Name="Mes">
          <DataField>Mes</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="DiaInicial">
          <DataField>DiaInicial</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
        <Field Name="FechaDePago">
          <DataField>FechaDePago</DataField>
          <rd:TypeName>System.DateTime</rd:TypeName>
        </Field>
        <Field Name="Observaciones">
          <DataField>Observaciones</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Adicional">
          <DataField>Adicional</DataField>
          <rd:TypeName>System.Byte</rd:TypeName>
        </Field>
        <Field Name="DiaFinal">
          <DataField>DiaFinal</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandText>Set dateformat dmy
Select T1.*,
	Case
                                When T1.DiaInicial = 1 Then 15
		When T1.Mes In (1, 3, 5, 7, 8, 10, 12) Then 31
		When Mes In (4, 6, 9, 11) Then 30
		When dbo.Fn_ObtenSiAnioEsBisiesto(T1.Anio) = 1 Then 29
		Else 28
	End DiaFinal
From (
	Select dbo.Fn_ObtenQnaPorId(IdQuincena) Quincena, Anio,
		Case 
			When (Quincena % 2) = 0 Then (Quincena/2)
			Else (Quincena + 1)/2
		End Mes,
		Case 
			When (Quincena % 2) = 0 Then 16
			Else 1
		End DiaInicial, FechaDePago,
                                UPPER(IsNull(Observaciones,'')) Observaciones,
                                Adicional
	From Quincenas
	Where IdQuincena = @IdQuincena) T1</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
    <DataSet Name="dsResumenPercepciones">
      <Fields>
        <Field Name="Percepcion">
          <DataField>Percepcion</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Importe">
          <DataField>Importe</DataField>
          <rd:TypeName>System.Decimal</rd:TypeName>
        </Field>
        <Field Name="TotalPersonas">
          <DataField>TotalPersonas</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandText>If @IdEmpFuncion In (1)
	Begin
		SELECT Pe.ClavePercepcion + '-' + Pe.NombrePercepcion Percepcion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
		FROM Empleados E
			INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
			INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
			INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
			INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
			INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
			INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
			INNER JOIN Percepciones Pe On Pe.IdPercepcion = H.IdPercDeduc
		WHERE (H.IdQuincenaAplicacion = @IdQuincena)
			--And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
			And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion = @IdEmpFuncion
			And H.TipoPercDeduc = 'P' And FP.IdFondoPresup = @IdFondoPresup
		GROUP BY Pe.ClavePercepcion + '-' + Pe.NombrePercepcion
		ORDER BY Percepcion
	End
Else
	Begin
		If @IdEmpFuncion In (2)
			Begin
				SELECT Pe.ClavePercepcion + '-' + Pe.NombrePercepcion Percepcion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
				FROM Empleados E
					INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
					INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
					INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
					INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
					INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
					INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
					INNER JOIN Percepciones Pe On Pe.IdPercepcion = H.IdPercDeduc
				WHERE (H.IdQuincenaAplicacion = @IdQuincena)
					--And dbo.Fn_ObtenQnaPorId(@IdQuincena) Between dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni) And dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin)
                                         			--And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
					And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion = @IdEmpFuncion And Ep.PlazaEspecial = 0
					And H.TipoPercDeduc = 'P' And FP.IdFondoPresup = @IdFondoPresup
				GROUP BY Pe.ClavePercepcion + '-' + Pe.NombrePercepcion
				ORDER BY Percepcion
			End
		Else
			Begin
				SELECT Pe.ClavePercepcion + '-' + Pe.NombrePercepcion Percepcion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
				FROM Empleados E
					INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
					INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
					INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
					INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
					INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
					INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
					INNER JOIN Percepciones Pe On Pe.IdPercepcion = H.IdPercDeduc
				WHERE (H.IdQuincenaAplicacion = @IdQuincena)
					--And dbo.Fn_ObtenQnaPorId(@IdQuincena) Between dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni) And dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin)
			                               -- And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
					And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion In (1,2)
					And H.TipoPercDeduc = 'P' And FP.IdFondoPresup = @IdFondoPresup
				GROUP BY Pe.ClavePercepcion + '-' + Pe.NombrePercepcion
				ORDER BY Percepcion
			End
	End</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdEmpFuncion">
            <Value>=Parameters!pIdEmpFuncion.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdPlantel">
            <Value>=Parameters!pIdPlantel.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdFondoPresup">
            <Value>=Parameters!pIdFondoPresup.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
    <DataSet Name="dsResumenDeducciones">
      <Fields>
        <Field Name="Deduccion">
          <DataField>Deduccion</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Importe">
          <DataField>Importe</DataField>
          <rd:TypeName>System.Decimal</rd:TypeName>
        </Field>
        <Field Name="TotalPersonas">
          <DataField>TotalPersonas</DataField>
          <rd:TypeName>System.Int32</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandText>If @IdEmpFuncion In (1)
	Begin
		SELECT D.ClaveDeduccion + '-' + D.NombreDeduccion Deduccion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
		FROM Empleados E
			INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
			INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
			INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
			INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
			INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
			INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
			INNER JOIN Deducciones D On D.IdDeduccion = H.IdPercDeduc
		WHERE (H.IdQuincenaAplicacion = @IdQuincena)
			--And dbo.Fn_ObtenQnaPorId(@IdQuincena) Between dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni) And dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin)
			--And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
			And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion = @IdEmpFuncion And FP.IdFondoPresup = @IdFondoPresup
			And H.TipoPercDeduc = 'D'
		GROUP BY D.ClaveDeduccion + '-' + D.NombreDeduccion
		ORDER BY Deduccion
	End
Else
	Begin
		If @IdEmpFuncion In (2)
			Begin
				SELECT D.ClaveDeduccion + '-' + D.NombreDeduccion Deduccion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
				FROM Empleados E
					INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
					INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
					INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
					INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
					INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
					INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
					INNER JOIN Deducciones D On D.IdDeduccion = H.IdPercDeduc
				WHERE (H.IdQuincenaAplicacion = @IdQuincena)
					--And dbo.Fn_ObtenQnaPorId(@IdQuincena) Between dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni) And dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin)
 			                                --And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
					And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion = @IdEmpFuncion And Ep.PlazaEspecial = 0
					And FP.IdFondoPresup = @IdFondoPresup
					And H.TipoPercDeduc = 'D'
				GROUP BY D.ClaveDeduccion + '-' + D.NombreDeduccion
				ORDER BY Deduccion
			End
		Else
			Begin
				SELECT D.ClaveDeduccion + '-' + D.NombreDeduccion Deduccion, Sum(H.Importe) Importe, Count(Distinct E.IdEmp) TotalPersonas
				FROM Empleados E
					INNER JOIN EmpleadosDatosLaborales EDL On EDL.IdEmp = E.IdEmp
					INNER JOIN EmpleadosPlazas EP On EP.IdEmp = E.IdEmp
					INNER JOIN TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
					INNER JOIN FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
					INNER JOIN PlazasHistoria PH On PH.IdPlaza = EP.IdPlaza
					INNER JOIN HistoriaPago AS H ON H.IdPlaza = EP.IdPlaza
					INNER JOIN Deducciones D On D.IdDeduccion = H.IdPercDeduc
				WHERE (H.IdQuincenaAplicacion = @IdQuincena)
					--And dbo.Fn_ObtenQnaPorId(@IdQuincena) Between dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni) And dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin)
			                               --And Left(dbo.Fn_ObtenQnaPorId(@IdQuincena),6) Between Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigIni),6) And Left(dbo.Fn_ObtenQnaPorId(PH.IdQnaVigFin),6)
					And EP.IdPlantel = @IdPlantel And EP.IdEmpFuncion In (1,2) And FP.IdFondoPresup = @IdFondoPresup
					And H.TipoPercDeduc = 'D'
				GROUP BY D.ClaveDeduccion + '-' + D.NombreDeduccion
				ORDER BY Deduccion
			End
	End</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdEmpFuncion">
            <Value>=Parameters!pIdEmpFuncion.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdPlantel">
            <Value>=Parameters!pIdPlantel.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdFondoPresup">
            <Value>=Parameters!pIdFondoPresup.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
    <DataSet Name="dsPlantel">
      <Fields>
        <Field Name="IDPROFESION">
          <DataField>IDPROFESION</DataField>
          <rd:TypeName>System.Byte</rd:TypeName>
        </Field>
        <Field Name="ABREVPROFESION">
          <DataField>ABREVPROFESION</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="NOMBRE">
          <DataField>NOMBRE</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="IDPLANTEL">
          <DataField>IDPLANTEL</DataField>
          <rd:TypeName>System.Int16</rd:TypeName>
        </Field>
        <Field Name="ClavePlantel">
          <DataField>CLAVEPLANTEL</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="DESCPLANTEL">
          <DataField>DESCPLANTEL</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="CATEGORIA">
          <DataField>CATEGORIA</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandType>StoredProcedure</CommandType>
        <CommandText>SP_SFirmantesNomina</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdPlantel">
            <Value>=Parameters!pIdPlantel.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
    <DataSet Name="dsHoras">
      <Fields>
        <Field Name="ClavePercepcion">
          <DataField>ClavePercepcion</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="NombrePercepcion">
          <DataField>NombrePercepcion</DataField>
          <rd:TypeName>System.String</rd:TypeName>
        </Field>
        <Field Name="Horas">
          <DataField>Horas</DataField>
          <rd:TypeName>System.Byte</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandText>If @IdEmp Is Not Null And @IdEmp &lt;&gt; 0
	Begin
		Select P.ClavePercepcion, P.NombrePercepcion, DP.Horas
		From DetallePago DP
			Inner Join CategoriasPercepcionesHoras CPH On CPH.IdCategoria = DP.IdCategoria
			Inner Join Percepciones P On P.IdPercepcion = CPH.IdPercepcion
		Where DP.IdEmp = @IdEmp And DP.IdQuincena = @IdQuincena
		Order By P.ClavePercepcion
	End
Else
	Begin
		If @IdEmpFuncion In (1)
			Begin
				SELECT ClavePercepcion, NombrePercepcion, Sum(Horas) Horas
				From (			
					SELECT Distinct  DP.IdEmp, P.ClavePercepcion, P.NombrePercepcion, DP.Horas 
					From DetallePago DP
						Inner Join CategoriasPercepcionesHoras CPH On CPH.IdCategoria = DP.IdCategoria
						Inner Join Percepciones P On P.IdPercepcion = CPH.IdPercepcion
						Inner Join EmpleadosDatosLaborales EDL On EDL.IdEmp = DP.IdEmp
						Inner Join EmpleadosPlazas EP On EP.IdEmp = DP.IdEmp
						Inner Join TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
						Inner Join FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
					WHERE DP.IdQuincena = @IdQuincena
						And EDL.IdPlantel = @IdPlantel
						And EP.IdPlaza In 
										(Select IdPlaza
										From HistoriaPago
										Where IdQuincenaAplicacion = @IdQuincena)
						And EP.IdEmpFuncion = @IdEmpFuncion And FP.IdFondoPresup = @IdFondoPresup) T
				GROUP BY ClavePercepcion, NombrePercepcion
				ORDER BY ClavePercepcion, NombrePercepcion
			End
		Else
			Begin
				If @IdEmpFuncion In (2)
					Begin
						SELECT ClavePercepcion, NombrePercepcion, Sum(Horas) Horas
						From (			
							SELECT Distinct  DP.IdEmp, P.ClavePercepcion, P.NombrePercepcion, DP.Horas 
							From DetallePago DP
								Inner Join CategoriasPercepcionesHoras CPH On CPH.IdCategoria = DP.IdCategoria
								Inner Join Percepciones P On P.IdPercepcion = CPH.IdPercepcion
								Inner Join EmpleadosDatosLaborales EDL On EDL.IdEmp = DP.IdEmp
								Inner Join EmpleadosPlazas EP On EP.IdEmp = DP.IdEmp
								Inner Join TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
								Inner Join FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
							WHERE DP.IdQuincena = @IdQuincena
								And EDL.IdPlantel = @IdPlantel
								And EP.IdPlaza In 
												(Select IdPlaza
												From HistoriaPago
												Where IdQuincenaAplicacion = @IdQuincena)
								And EP.IdEmpFuncion = @IdEmpFuncion And FP.IdFondoPresup = @IdFondoPresup And EP.PlazaEspecial = 0) T
						GROUP BY ClavePercepcion, NombrePercepcion
						ORDER BY ClavePercepcion, NombrePercepcion
					End
				Else
					Begin
						SELECT ClavePercepcion, NombrePercepcion, Sum(Horas) Horas
						From (			
							SELECT Distinct  DP.IdEmp, P.ClavePercepcion, P.NombrePercepcion, DP.Horas 
							From DetallePago DP
								Inner Join CategoriasPercepcionesHoras CPH On CPH.IdCategoria = DP.IdCategoria
								Inner Join Percepciones P On P.IdPercepcion = CPH.IdPercepcion
								Inner Join EmpleadosDatosLaborales EDL On EDL.IdEmp = DP.IdEmp
								Inner Join EmpleadosPlazas EP On EP.IdEmp = DP.IdEmp
								Inner Join TiposDeNominas TN On TN.IdTipoNomina = EP.IdTipoNomina
								Inner Join FondosPresupuestales FP On FP.IdFondoPresup = TN.IdFondoPresup
							WHERE DP.IdQuincenaAplicacion = @IdQuincena And DP.IdQuincena = @IdQuincena
								And EDL.IdPlantel = @IdPlantel
								And EP.IdPlaza In 
												(Select IdPlaza
												From HistoriaPago
												Where IdQuincenaAplicacion = @IdQuincena)
								And EP.IdEmpFuncion In (1, 2) And FP.IdFondoPresup = @IdFondoPresup) T
						GROUP BY ClavePercepcion, NombrePercepcion
						ORDER BY ClavePercepcion, NombrePercepcion
					End
			End
	End</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdEmp">
            <Value>=Parameters!pIdEmp.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdEmpFuncion">
            <Value>=Parameters!pIdEmpFuncion.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdPlantel">
            <Value>=Parameters!pIdPlantel.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdFondoPresup">
            <Value>=Parameters!pIdFondoPresup.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
    <DataSet Name="dsResumenTotales">
      <Fields>
        <Field Name="TotalAdmvos">
          <DataField>TotalAdmvos</DataField>
          <rd:TypeName>System.Int16</rd:TypeName>
        </Field>
        <Field Name="TotalDocs">
          <DataField>TotalDocs</DataField>
          <rd:TypeName>System.Int16</rd:TypeName>
        </Field>
        <Field Name="TotalEmpleados">
          <DataField>TotalEmpleados</DataField>
          <rd:TypeName>System.Int16</rd:TypeName>
        </Field>
      </Fields>
      <Query>
        <DataSourceName>Nomina</DataSourceName>
        <CommandText>Declare @TotalAdmvos Smallint, @TotalDocs Smallint, @TotalEmps Smallint

Select @TotalAdmvos = Count(Distinct EP.IdEmp)
From HistoriaPago HP
	Inner Join EmpleadosPlazas EP On EP.IdPlaza = HP.IdPlaza
	Inner Join TiposDeNominas TDN On TDN.IdTipoNomina = EP.IdTipoNomina
Where HP.IdQuincenaAplicacion = @IdQuincena And EP.IdEmpFuncion = 1 And EP.PlazaEspecial = 0
	And TDN.IdFondoPresup = @IdFondoPresup And EP.IdPlantel = @IdPlantel
	And EP.IdEmp Not In
					(Select IdEmp
					From Bajas_Borrar
					Where IdQuincena = @IdQuincena)

Select @TotalDocs = Count(Distinct EP.IdEmp)
From HistoriaPago HP
	Inner Join EmpleadosPlazas EP On EP.IdPlaza = HP.IdPlaza
	Inner Join TiposDeNominas TDN On TDN.IdTipoNomina = EP.IdTipoNomina
Where HP.IdQuincenaAplicacion = @IdQuincena And EP.IdEmpFuncion = 2 And EP.PlazaEspecial = 0
	And TDN.IdFondoPresup = @IdFondoPresup And EP.IdPlantel = @IdPlantel
	And EP.IdEmp Not In
					(Select IdEmp
					From Bajas_Borrar
					Where IdQuincena = @IdQuincena)

Select @TotalEmps = Count(Distinct EP.IdEmp)
From HistoriaPago HP
	Inner Join EmpleadosPlazas EP On EP.IdPlaza = HP.IdPlaza
	Inner Join TiposDeNominas TDN On TDN.IdTipoNomina = EP.IdTipoNomina
Where HP.IdQuincenaAplicacion = @IdQuincena And EP.PlazaEspecial = 0 And TDN.IdFondoPresup = @IdFondoPresup
	And EP.IdPlantel = @IdPlantel
	And EP.IdEmp Not In
					(Select IdEmp
					From Bajas_Borrar
					Where IdQuincena = @IdQuincena)

Select @TotalAdmvos TotalAdmvos, @TotalDocs TotalDocs, @TotalEmps TotalEmpleados</CommandText>
        <QueryParameters>
          <QueryParameter Name="@IdQuincena">
            <Value>=Parameters!pIdQuincena.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdFondoPresup">
            <Value>=Parameters!pIdFondoPresup.Value</Value>
          </QueryParameter>
          <QueryParameter Name="@IdPlantel">
            <Value>=Parameters!pIdPlantel.Value</Value>
          </QueryParameter>
        </QueryParameters>
        <rd:UseGenericDesigner>true</rd:UseGenericDesigner>
      </Query>
    </DataSet>
  </DataSets>
  <Author>Fabio Rodríguez López</Author>
  <Code />
  <Width>19cm</Width>
  <Body>
    <ColumnSpacing>0.5cm</ColumnSpacing>
    <ReportItems>
      <Rectangle Name="rectangle1">
        <ReportItems>
          <Textbox Name="textbox21">
            <Visibility>
              <Hidden>=IIf(Parameters!pIdEmpFuncion.Value=0, False, True)</Hidden>
            </Visibility>
            <Top>6.45cm</Top>
            <Width>8.14375cm</Width>
            <Style>
              <BorderStyle>
                <Bottom>Solid</Bottom>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontStyle>Italic</FontStyle>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <TextAlign>Center</TextAlign>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>17</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>5.42813cm</Left>
            <Height>0.45cm</Height>
            <Value>=Ucase(Trim(First(Fields!ABREVPROFESION.Value, "dsPlantel"))) + " " + Ucase(Trim(First(Fields!NOMBRE.Value, "dsPlantel")))</Value>
          </Textbox>
          <Textbox Name="textbox20">
            <rd:DefaultName>textbox20</rd:DefaultName>
            <Visibility>
              <Hidden>=IIf(Parameters!pIdEmpFuncion.Value=0, False, True)</Hidden>
            </Visibility>
            <Top>6.9cm</Top>
            <Width>9cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>7pt</FontSize>
              <FontWeight>700</FontWeight>
              <TextAlign>Center</TextAlign>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>16</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>5cm</Left>
            <Value>=First(Fields!CATEGORIA.Value, "dsPlantel")</Value>
          </Textbox>
          <Table Name="table3">
            <ZIndex>15</ZIndex>
            <DataSetName>dsHoras</DataSetName>
            <Visibility>
              <Hidden>=IIf(CountRows("dsHoras")&gt;0,False,True)</Hidden>
            </Visibility>
            <Top>3.9cm</Top>
            <Width>9.25cm</Width>
            <Details>
              <TableRows>
                <TableRow>
                  <TableCells>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="ClavePercepcion">
                          <rd:DefaultName>ClavePercepcion</rd:DefaultName>
                          <Style>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <VerticalAlign>Middle</VerticalAlign>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingRight>1pt</PaddingRight>
                          </Style>
                          <ZIndex>1</ZIndex>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!ClavePercepcion.Value + "-" + Fields!NombrePercepcion.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="textbox11">
                          <Style>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <TextAlign>Right</TextAlign>
                            <VerticalAlign>Middle</VerticalAlign>
                            <PaddingLeft>1pt</PaddingLeft>
                            <PaddingRight>1pt</PaddingRight>
                          </Style>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!Horas.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                  </TableCells>
                  <Height>0.4cm</Height>
                </TableRow>
              </TableRows>
            </Details>
            <Style>
              <VerticalAlign>Middle</VerticalAlign>
            </Style>
            <TableColumns>
              <TableColumn>
                <Width>7.35795cm</Width>
              </TableColumn>
              <TableColumn>
                <Width>1.89205cm</Width>
              </TableColumn>
            </TableColumns>
            <Height>0.85cm</Height>
            <Footer>
              <TableRows>
                <TableRow>
                  <Visibility>
                    <Hidden>=IIF(CountRows("dsHoras")&gt;0,False,True)</Hidden>
                  </Visibility>
                  <TableCells>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="textbox18">
                          <Style>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <FontWeight>700</FontWeight>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <ZIndex>3</ZIndex>
                          <CanGrow>true</CanGrow>
                          <Value>TOTAL</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="textbox19">
                          <Style>
                            <BorderStyle>
                              <Default>Solid</Default>
                            </BorderStyle>
                            <BorderWidth>
                              <Default>0.5pt</Default>
                            </BorderWidth>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <ZIndex>2</ZIndex>
                          <CanGrow>true</CanGrow>
                          <Value>=Sum(Fields!Horas.Value, "dsHoras")</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                  </TableCells>
                  <Height>0.45cm</Height>
                </TableRow>
              </TableRows>
            </Footer>
          </Table>
          <Textbox Name="textbox10">
            <rd:DefaultName>textbox10</rd:DefaultName>
            <Top>1.05cm</Top>
            <Width>5.875cm</Width>
            <Style>
              <BackgroundColor>White</BackgroundColor>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <TextAlign>Center</TextAlign>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>14</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>6.5625cm</Left>
            <Height>0.45cm</Height>
            <Value>=IIf(Parameters!pIdEmpFuncion.Value=1, "SUBTOTALES ADMINISTRATIVOS", IIf(Parameters!pIdEmpFuncion.Value=2, "SUBTOTALES DOCENTES", "TOTALES POR PLANTEL"))</Value>
          </Textbox>
          <Textbox Name="textbox3">
            <Top>0.45cm</Top>
            <Width>13.75cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <FontWeight>700</FontWeight>
              <TextAlign>Center</TextAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>13</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>2.625cm</Left>
            <Height>0.45cm</Height>
            <Value>="PLANTEL: " + First(Fields!ClavePlantel.Value, "dsPlantel") + " - " + First(Fields!DESCPLANTEL.Value, "dsPlantel")</Value>
          </Textbox>
          <Textbox Name="textbox1">
            <rd:DefaultName>textbox1</rd:DefaultName>
            <Width>13.75cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <TextAlign>Center</TextAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>12</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>2.625cm</Left>
            <Height>0.45cm</Height>
            <Value>=IIF(First(Fields!Observaciones.Value, "dsQuincena")&lt;&gt;"",
First(Fields!Observaciones.Value, "dsQuincena") + ", QUINCENA " + First(Fields!Quincena.Value, "dsQuincena"),
"NÓMINA CORRESPONDIENTE A LA QUINCENA " + First(Fields!Quincena.Value, "dsQuincena") + " DEL " + Sum(Fields!DiaInicial.Value, "dsQuincena").ToString + " AL " + IIf(Sum(Fields!DiaInicial.Value, "dsQuincena") = 1, "15", Sum(Fields!DiaFinal.Value, "dsQuincena").ToString) + " DE " + MonthName(Sum(Fields!Mes.Value, "dsQuincena")).ToUpper + " DE " + Sum(Fields!Anio.Value, "dsQuincena").ToString)</Value>
          </Textbox>
          <Textbox Name="textbox8">
            <Top>3.15cm</Top>
            <Width>3cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <Format>C</Format>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>11</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>15.86cm</Left>
            <Height>0.45cm</Height>
            <Value>=Sum(Fields!Importe.Value, "dsResumenPercepciones") - Sum(Fields!Importe.Value, "dsResumenDeducciones")</Value>
          </Textbox>
          <Textbox Name="textbox9">
            <Top>3.15cm</Top>
            <Width>6.25cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <FontWeight>700</FontWeight>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>10</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>9.6cm</Left>
            <Height>0.45cm</Height>
            <Value>NETO A PAGAR</Value>
          </Textbox>
          <Textbox Name="textbox6">
            <Top>3.15cm</Top>
            <Width>3cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>9</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>6.25cm</Left>
            <Height>0.45cm</Height>
            <Value>=First(Fields!TotalEmpleados.Value, "dsResumenTotales")</Value>
          </Textbox>
          <Textbox Name="textbox7">
            <Top>3.15cm</Top>
            <Width>6.25cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <FontWeight>700</FontWeight>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>8</ZIndex>
            <CanGrow>true</CanGrow>
            <Height>0.45cm</Height>
            <Value>NO. DE PERSONAS</Value>
          </Textbox>
          <Textbox Name="textbox16">
            <Top>2.55cm</Top>
            <Width>3cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <Format>C</Format>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>7</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>15.86cm</Left>
            <Height>0.45cm</Height>
            <Value>=Sum(Fields!Importe.Value, "dsResumenDeducciones")</Value>
          </Textbox>
          <Textbox Name="textbox17">
            <Top>2.55cm</Top>
            <Width>6.25cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <FontWeight>700</FontWeight>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>6</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>9.6cm</Left>
            <Height>0.45cm</Height>
            <Value>TOTAL DEDUCCIONES</Value>
          </Textbox>
          <Textbox Name="textbox15">
            <Top>2.55cm</Top>
            <Width>3cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <Format>C</Format>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>5</ZIndex>
            <CanGrow>true</CanGrow>
            <Left>6.25cm</Left>
            <Height>0.45cm</Height>
            <Value>=Sum(Fields!Importe.Value, "dsResumenPercepciones")</Value>
          </Textbox>
          <Textbox Name="textbox14">
            <rd:DefaultName>textbox14</rd:DefaultName>
            <Top>2.55cm</Top>
            <Width>6.25cm</Width>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
              <FontWeight>700</FontWeight>
              <VerticalAlign>Middle</VerticalAlign>
              <PaddingLeft>2pt</PaddingLeft>
              <PaddingRight>2pt</PaddingRight>
              <PaddingTop>2pt</PaddingTop>
              <PaddingBottom>2pt</PaddingBottom>
            </Style>
            <ZIndex>4</ZIndex>
            <CanGrow>true</CanGrow>
            <Height>0.45cm</Height>
            <Value>TOTAL PERCEPCIONES</Value>
          </Textbox>
          <Table Name="table2">
            <ZIndex>3</ZIndex>
            <DataSetName>dsResumenPercepciones</DataSetName>
            <Top>1.8cm</Top>
            <Width>9.25cm</Width>
            <Details>
              <TableRows>
                <TableRow>
                  <TableCells>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="textbox4">
                          <Style>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <ZIndex>1</ZIndex>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!Percepcion.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="textbox5">
                          <Style>
                            <FontFamily>Verdana</FontFamily>
                            <FontSize>8pt</FontSize>
                            <Format>C</Format>
                            <TextAlign>Right</TextAlign>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!Importe.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                  </TableCells>
                  <Height>0.45cm</Height>
                </TableRow>
              </TableRows>
            </Details>
            <Style>
              <FontSize>8pt</FontSize>
            </Style>
            <TableColumns>
              <TableColumn>
                <Width>6.25cm</Width>
              </TableColumn>
              <TableColumn>
                <Width>3cm</Width>
              </TableColumn>
            </TableColumns>
            <Height>0.45cm</Height>
          </Table>
          <Table Name="table1">
            <ZIndex>2</ZIndex>
            <DataSetName>dsResumenDeducciones</DataSetName>
            <Top>1.8cm</Top>
            <Width>9.25cm</Width>
            <Details>
              <TableRows>
                <TableRow>
                  <TableCells>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="Deduccion">
                          <Style>
                            <FontSize>8pt</FontSize>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <ZIndex>1</ZIndex>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!Deduccion.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                    <TableCell>
                      <ReportItems>
                        <Textbox Name="Importe">
                          <rd:DefaultName>Importe</rd:DefaultName>
                          <Style>
                            <FontSize>8pt</FontSize>
                            <Format>C</Format>
                            <TextAlign>Right</TextAlign>
                            <PaddingLeft>2pt</PaddingLeft>
                            <PaddingRight>2pt</PaddingRight>
                            <PaddingTop>2pt</PaddingTop>
                            <PaddingBottom>2pt</PaddingBottom>
                          </Style>
                          <CanGrow>true</CanGrow>
                          <Value>=Fields!Importe.Value</Value>
                        </Textbox>
                      </ReportItems>
                    </TableCell>
                  </TableCells>
                  <Height>0.45cm</Height>
                </TableRow>
              </TableRows>
            </Details>
            <Style>
              <FontFamily>Verdana</FontFamily>
              <FontSize>8pt</FontSize>
            </Style>
            <TableColumns>
              <TableColumn>
                <Width>6.25cm</Width>
              </TableColumn>
              <TableColumn>
                <Width>3cm</Width>
              </TableColumn>
            </TableColumns>
            <Height>0.45cm</Height>
            <Left>9.6cm</Left>
          </Table>
          <Line Name="line1">
            <Top>1.275cm</Top>
            <Width>7.2cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
            </Style>
            <ZIndex>1</ZIndex>
            <Height>0cm</Height>
          </Line>
          <Line Name="line2">
            <Top>1.275cm</Top>
            <Width>7.2cm</Width>
            <Style>
              <BorderStyle>
                <Default>Solid</Default>
              </BorderStyle>
              <BorderWidth>
                <Default>0.5pt</Default>
              </BorderWidth>
            </Style>
            <Left>11.7cm</Left>
            <Height>0cm</Height>
          </Line>
        </ReportItems>
        <PageBreakAtStart>true</PageBreakAtStart>
        <Height>7.35cm</Height>
      </Rectangle>
    </ReportItems>
    <Height>24.475cm</Height>
    <Style>
      <BackgroundColor>White</BackgroundColor>
    </Style>
  </Body>
  <Language>es-MX</Language>
  <TopMargin>0.5cm</TopMargin>
  <PageHeight>27.9cm</PageHeight>
</Report>